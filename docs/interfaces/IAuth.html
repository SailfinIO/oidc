<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>IAuth | @sailfin/oidc - v0.0.9-beta.3</title><meta name="description" content="Documentation for @sailfin/oidc"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@sailfin/oidc - v0.0.9-beta.3</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../index.html">@sailfin/oidc</a></li><li><a href="IAuth.html">IAuth</a></li></ul><h1>Interface IAuth</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Defines the <code>IAuth</code> interface for managing authentication flows.</p>
<p>The <code>IAuth</code> interface provides methods for generating authorization URLs,
handling redirect callbacks, exchanging authorization codes for tokens,
managing device authorization flows, polling for tokens, and generating
logout URLs. Implementations of this interface can support various
OAuth2/OIDC grant types and PKCE configurations.</p>
</div><div class="tsd-comment tsd-typography"></div></section><div class="tsd-signature"><span class="tsd-signature-keyword">interface</span> <span class="tsd-kind-interface">IAuth</span> <span class="tsd-signature-symbol">{</span><br/>    <a class="tsd-kind-call-signature" href="IAuth.html#getauthorizationurl-1">getAuthorizationUrl</a><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="IAuthorizationUrlResponse.html" class="tsd-signature-type tsd-kind-interface">IAuthorizationUrlResponse</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="IAuth.html#getlogouturl-1">getLogoutUrl</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">idTokenHint</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">state</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="IAuth.html#handleredirect-1">handleRedirect</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">code</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">returnedState</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="IAuth.html#handleredirectforimplicitflow-1">handleRedirectForImplicitFlow</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">fragment</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="IAuth.html#polldevicetoken-1">pollDeviceToken</a><span class="tsd-signature-symbol">(</span><br/>        <span class="tsd-kind-parameter">device_code</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>        <span class="tsd-kind-parameter">interval</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>        <span class="tsd-kind-parameter">timeout</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="IAuth.html#startdeviceauthorization-1">startDeviceAuthorization</a><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="IDeviceAuthorizationResponse.html" class="tsd-signature-type tsd-kind-interface">IDeviceAuthorizationResponse</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/><span class="tsd-signature-symbol">}</span></div><section class="tsd-panel"><h4>Implemented by</h4><ul class="tsd-hierarchy"><li><a href="../classes/Auth.html" class="tsd-signature-type tsd-kind-class">Auth</a></li></ul></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/SailfinIO/oidc/blob/main/src/interfaces/IAuth.ts#L69">interfaces/IAuth.ts:69</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="IAuth.html#getauthorizationurl" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Authorization<wbr/>Url</span></a>
<a href="IAuth.html#getlogouturl" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Logout<wbr/>Url</span></a>
<a href="IAuth.html#handleredirect" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>handle<wbr/>Redirect</span></a>
<a href="IAuth.html#handleredirectforimplicitflow" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>handle<wbr/>Redirect<wbr/>For<wbr/>Implicit<wbr/>Flow</span></a>
<a href="IAuth.html#polldevicetoken" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>poll<wbr/>Device<wbr/>Token</span></a>
<a href="IAuth.html#startdeviceauthorization" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>start<wbr/>Device<wbr/>Authorization</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Methods</h2></summary><section><section class="tsd-panel tsd-member"><a id="getauthorizationurl" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Authorization<wbr/>Url</span><a href="#getauthorizationurl" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getauthorizationurl-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getAuthorizationUrl</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="IAuthorizationUrlResponse.html" class="tsd-signature-type tsd-kind-interface">IAuthorizationUrlResponse</a><span class="tsd-signature-symbol">&gt;</span><a href="#getauthorizationurl-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Generates the authorization URL to initiate the OAuth2/OIDC flow.</p>
<p>This method constructs the URL that the client application should redirect
the user to in order to begin the authentication process. It internally
generates and stores a unique state and nonce for CSRF protection and
ID token validation, respectively.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="IAuthorizationUrlResponse.html" class="tsd-signature-type tsd-kind-interface">IAuthorizationUrlResponse</a><span class="tsd-signature-symbol">&gt;</span></h4><p>An object containing the authorization URL and the generated state.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws" class="tsd-anchor"></a>Throws<a href="#throws" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If the grant type does not support authorization URLs.</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example" class="tsd-anchor"></a>Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-4">url</span><span class="hl-1">, </span><span class="hl-4">state</span><span class="hl-1"> } = </span><span class="hl-10">await</span><span class="hl-1"> </span><span class="hl-3">authClient</span><span class="hl-1">.</span><span class="hl-6">getAuthorizationUrl</span><span class="hl-1">();</span><br/><span class="hl-3">window</span><span class="hl-1">.</span><span class="hl-3">location</span><span class="hl-1">.</span><span class="hl-3">href</span><span class="hl-1"> = </span><span class="hl-3">url</span><span class="hl-1">;</span><br/><span class="hl-0">// Store `state` to validate upon redirect</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/SailfinIO/oidc/blob/main/src/interfaces/IAuth.ts#L89">interfaces/IAuth.ts:89</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getlogouturl" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Logout<wbr/>Url</span><a href="#getlogouturl" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getlogouturl-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getLogoutUrl</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">idTokenHint</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">state</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#getlogouturl-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Generates the logout URL to initiate the logout flow.</p>
<p>This method constructs the URL that the client application should redirect
the user to in order to log out from the authentication server. It supports
passing an ID token hint and state parameters.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">idTokenHint</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Optional ID token to hint the logout request.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">state</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Optional state for logout.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The generated logout URL.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-1" class="tsd-anchor"></a>Throws<a href="#throws-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If the logout endpoint is missing in the discovery configuration.</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-1" class="tsd-anchor"></a>Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">logoutUrl</span><span class="hl-1"> = </span><span class="hl-10">await</span><span class="hl-1"> </span><span class="hl-3">authClient</span><span class="hl-1">.</span><span class="hl-6">getLogoutUrl</span><span class="hl-1">(</span><span class="hl-3">idToken</span><span class="hl-1">, </span><span class="hl-7">&#39;logoutState&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">window</span><span class="hl-1">.</span><span class="hl-3">location</span><span class="hl-1">.</span><span class="hl-3">href</span><span class="hl-1"> = </span><span class="hl-3">logoutUrl</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/SailfinIO/oidc/blob/main/src/interfaces/IAuth.ts#L194">interfaces/IAuth.ts:194</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="handleredirect" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>handle<wbr/>Redirect</span><a href="#handleredirect" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="handleredirect-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">handleRedirect</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">code</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">returnedState</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#handleredirect-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Handles the redirect callback from the authorization server for authorization code flow.</p>
<p>This method processes the authorization response, including validating the
returned state to prevent CSRF attacks, exchanging the authorization code
for tokens, and validating the ID token's nonce.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">code</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The authorization code received from the authorization server.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">returnedState</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The state returned in the redirect to validate against CSRF.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Resolves when the redirect has been successfully handled.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-2" class="tsd-anchor"></a>Throws<a href="#throws-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If state validation fails or token exchange fails.</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-2" class="tsd-anchor"></a>Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">code</span><span class="hl-1"> = </span><span class="hl-7">&#39;authorization-code-from-redirect&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">returnedState</span><span class="hl-1"> = </span><span class="hl-7">&#39;state-from-redirect&#39;</span><span class="hl-1">;</span><br/><span class="hl-10">await</span><span class="hl-1"> </span><span class="hl-3">authClient</span><span class="hl-1">.</span><span class="hl-6">handleRedirect</span><span class="hl-1">(</span><span class="hl-3">code</span><span class="hl-1">, </span><span class="hl-3">returnedState</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/SailfinIO/oidc/blob/main/src/interfaces/IAuth.ts#L111">interfaces/IAuth.ts:111</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="handleredirectforimplicitflow" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>handle<wbr/>Redirect<wbr/>For<wbr/>Implicit<wbr/>Flow</span><a href="#handleredirectforimplicitflow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="handleredirectforimplicitflow-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">handleRedirectForImplicitFlow</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">fragment</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#handleredirectforimplicitflow-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Handles the redirect callback for implicit flow.</p>
<p>This method processes the authorization response by extracting tokens directly
from the URL fragment, validates the returned state, and stores the tokens securely.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">fragment</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The URL fragment containing tokens (e.g., access_token, id_token).</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Resolves when tokens are successfully extracted and stored.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-3" class="tsd-anchor"></a>Throws<a href="#throws-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If token extraction fails or state validation fails.</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-3" class="tsd-anchor"></a>Example<a href="#example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">fragment</span><span class="hl-1"> = </span><span class="hl-3">window</span><span class="hl-1">.</span><span class="hl-3">location</span><span class="hl-1">.</span><span class="hl-3">hash</span><span class="hl-1">;</span><br/><span class="hl-10">await</span><span class="hl-1"> </span><span class="hl-3">authClient</span><span class="hl-1">.</span><span class="hl-6">handleRedirectForImplicitFlow</span><span class="hl-1">(</span><span class="hl-3">fragment</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/SailfinIO/oidc/blob/main/src/interfaces/IAuth.ts#L130">interfaces/IAuth.ts:130</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="polldevicetoken" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>poll<wbr/>Device<wbr/>Token</span><a href="#polldevicetoken" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="polldevicetoken-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">pollDeviceToken</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">device_code</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">interval</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">timeout</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#polldevicetoken-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Polls the token endpoint until the device is authorized or the process times out.</p>
<p>This method repeatedly requests tokens using the device code until the user
authorizes the device or the polling process exceeds the specified timeout.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">device_code</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The device code obtained from device authorization.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">interval</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Polling interval in seconds.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">timeout</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Maximum time to wait in milliseconds.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Resolves when tokens are successfully obtained.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-4" class="tsd-anchor"></a>Throws<a href="#throws-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If polling fails, the device code expires, or the process times out.</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-4" class="tsd-anchor"></a>Example<a href="#example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-10">await</span><span class="hl-1"> </span><span class="hl-3">authClient</span><span class="hl-1">.</span><span class="hl-6">pollDeviceToken</span><span class="hl-1">(</span><span class="hl-3">deviceAuth</span><span class="hl-1">.</span><span class="hl-3">device_code</span><span class="hl-1">, </span><span class="hl-3">deviceAuth</span><span class="hl-1">.</span><span class="hl-3">interval</span><span class="hl-1">, </span><span class="hl-9">60000</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/SailfinIO/oidc/blob/main/src/interfaces/IAuth.ts#L169">interfaces/IAuth.ts:169</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="startdeviceauthorization" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>start<wbr/>Device<wbr/>Authorization</span><a href="#startdeviceauthorization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="startdeviceauthorization-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">startDeviceAuthorization</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="IDeviceAuthorizationResponse.html" class="tsd-signature-type tsd-kind-interface">IDeviceAuthorizationResponse</a><span class="tsd-signature-symbol">&gt;</span><a href="#startdeviceauthorization-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Initiates the device authorization request to obtain device and user codes.</p>
<p>This method starts the Device Authorization Grant flow by requesting device
and user codes from the authorization server. It is used in scenarios where
the client device has limited input capabilities.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="IDeviceAuthorizationResponse.html" class="tsd-signature-type tsd-kind-interface">IDeviceAuthorizationResponse</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The device authorization details.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-5" class="tsd-anchor"></a>Throws<a href="#throws-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If device authorization initiation fails or the grant type is unsupported.</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-5" class="tsd-anchor"></a>Example<a href="#example-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">deviceAuth</span><span class="hl-1"> = </span><span class="hl-10">await</span><span class="hl-1"> </span><span class="hl-3">authClient</span><span class="hl-1">.</span><span class="hl-6">startDeviceAuthorization</span><span class="hl-1">();</span><br/><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-7">`Please visit </span><span class="hl-5">${</span><span class="hl-3">deviceAuth</span><span class="hl-11">.</span><span class="hl-3">verification_uri</span><span class="hl-5">}</span><span class="hl-7"> and enter code </span><span class="hl-5">${</span><span class="hl-3">deviceAuth</span><span class="hl-11">.</span><span class="hl-3">user_code</span><span class="hl-5">}</span><span class="hl-7">`</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/SailfinIO/oidc/blob/main/src/interfaces/IAuth.ts#L149">interfaces/IAuth.ts:149</a></li></ul></aside></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#getauthorizationurl" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Authorization<wbr/>Url</span></a><a href="#getlogouturl" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Logout<wbr/>Url</span></a><a href="#handleredirect" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>handle<wbr/>Redirect</span></a><a href="#handleredirectforimplicitflow" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>handle<wbr/>Redirect<wbr/>For<wbr/>Implicit<wbr/>Flow</span></a><a href="#polldevicetoken" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>poll<wbr/>Device<wbr/>Token</span></a><a href="#startdeviceauthorization" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>start<wbr/>Device<wbr/>Authorization</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html">@sailfin/oidc - v0.0.9-beta.3</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>
